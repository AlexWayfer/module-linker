<!doctype html>

<link rel=icon type=image/png href=icon48.png>
<title>GitHub File Browser Chrome Extension</title>
<style>
* { font-family: monospace }
body {
  display: block;
  width: 800px;
  max-width: 100%;
  margin: auto;
}
body > header {
  margin-top: 18px;
}
body > header h1 {
  display: inline;
  margin-left: 12px;
}
body > nav ul {
  display: block;
  margin: 30px auto;
}
body > nav li {
  margin: 0 20px;
  display: inline;
}
#preview {
  width: 100%;
  height: 600px;
}
#preview > iframe {
  width: 100%;
  height: 600px;
}
body > footer {
  text-align: center;
  margin-top: 43px;
  font-size: 80%;
}
</style>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-38297900-19', 'auto');
ga('send', 'pageview');
</script>

<header>
  <img src=icon48.png>
  <h1>GitHub Module Browser</h1>
  <p>hover your mouse over the imported modules right on the code and click the links to be redirected to those modules.</p>
</header>

<nav>
  <ul>
    <li><a data-url=https://github.com/fiatjaf/summadb/blob/master/handle/handlers.go href=#>Go example</a></li>
    <li><a data-url=https://github.com/mailpile/Mailpile/blob/master/mailpile/app.py href=#>Python example</a></li>
    <li><a data-url=https://github.com/TylorS/cycle-snabbdom/blob/master/src/index.js href=#>Javascript example</a></li>
    <li><a data-url=https://github.com/octokit/octokit.rb/blob/master/lib/octokit/connection.rb href=#>Ruby example</a></li>
  </ul>
</nav>

<main>
  <div id=preview></div>
  
  <p><a href=https://chrome.google.com/webstore/detail/github-browser/dglofghjinifeolcpjfjmfdnnbaanggn>install from Chrome Web Store</a></p>
  <p><a href=https://eager.io/app/gh-browser/install?initialUrl=https://github.com/fiatjaf/pgjson/blob/master/index.js>preview on Eager</a></p>
  <p><a href=https://github.com/fiatjaf/gh-browser>source code on GitHub</a> (contribute with support for more languages!)</p>
</main>

<footer>
  <p>Icon by Gregor Črešnar from <a href="https://thenounproject.com/search/?q=nodes&amp;i=344978">The Noun Project</a>.</p>
</footer>

<script src="https://preview.eager.io/embed.js"></script>
<script>
var preview = new EagerPreview({
  partnerId: 'demo',
  frameSrc: 'https://github.com/fiatjaf/summadb/blob/master/handle/handlers.go',
  el: document.querySelector('#preview'),
  appId: 'gh-browser',
  options: {}
})
preview.render()

document.querySelector('body > nav').addEventListener('click', function (e) {
  if (e.target.tagName === 'A') {
    preview.navigate(e.target.dataset.url)
  }
})
</script>
