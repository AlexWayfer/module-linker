<!doctype html>

<title>GitHub File Browser Chrome Extension</title>
<style>
* { font-family: monospace }
body {
  display: block;
  width: 800px;
  max-width: 100%;
  margin: auto;
}
body > nav ul {
  display: block;
  margin: 30px auto;
}
body > nav li {
  margin: 0 20px;
  display: inline;
}
#preview {
  width: 100%;
  height: 600px;
}
#preview > iframe {
  width: 100%;
  height: 600px;
}
</style>

<h1>GitHub File Browser</h1>

<nav>
  <ul>
    <li><a data-url=https://github.com/fiatjaf/summadb/blob/master/handle/handlers.go href=#>Go example</a></li>
    <li><a data-url=https://github.com/mailpile/Mailpile/blob/master/mailpile/app.py href=#>Python example</a></li>
    <li><a data-url=https://github.com/TylorS/cycle-snabbdom/blob/master/src/index.js href=#>Javascript example</a></li>
  </ul>
</nav>
<div id=preview></div>

<p><a href=https://chrome.google.com/webstore/detail/github-browser/dglofghjinifeolcpjfjmfdnnbaanggn>install from Chrome Web Store</a></p>
<p><a href=https://eager.io/app/gh-browser/install?initialUrl=https://github.com/fiatjaf/pgjson/blob/master/index.js>preview on Eager</a></p>
<p><a href=https://github.com/fiatjaf/gh-browser>source code on GitHub</a></p>

<script src="https://preview.eager.io/embed.js"></script>
<script>
var preview = new EagerPreview({
  partnerId: 'demo',
  frameSrc: 'https://github.com/fiatjaf/summadb/blob/master/handle/handlers.go',
  el: document.querySelector('#preview'),
  appId: 'gh-browser',
  options: {}
})
preview.render()

document.querySelector('body > nav').addEventListener('click', function (e) {
  if (e.target.tagName === 'A') {
    preview.navigate(e.target.dataset.url)
  }
})
</script>
